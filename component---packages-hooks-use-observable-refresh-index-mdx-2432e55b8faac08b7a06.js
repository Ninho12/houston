(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"1K59":function(e,r,a){"use strict";a.d(r,"a",(function(){return o}));var n=a("HlNb"),t=a("B8Tz");function o(e,r){return void 0===e&&(e=0),void 0===r&&(r=n.b),e<0&&(e=0),Object(t.a)(e,e,r)}},R8Rz:function(e,r,a){"use strict";a.r(r),a.d(r,"_frontmatter",(function(){return m})),a.d(r,"default",(function(){return O}));var n=a("cxan"),t=a("+wNj"),o=(a("ERkP"),a("ZVZ0")),s=a("9Rvw"),b=a("1K59"),l=a("gH1A"),i=a("x6WP"),c=a("E1Lo"),u=a("qbsg"),d=a("vZ6I"),p=(a("l1C2"),["components"]),m={};void 0!==m&&m&&m===Object(m)&&Object.isExtensible(m)&&!m.hasOwnProperty("__filemeta")&&Object.defineProperty(m,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"packages/hooks/useObservableRefresh/index.mdx"}});var f={_frontmatter:m},v=s.a;function O(e){var r,a=e.components,O=Object(t.a)(e,p);return Object(o.b)(v,Object(n.a)({},f,O,{components:a,mdxType:"MDXLayout"}),Object(o.b)("h1",{id:"useobservablerefresh"},"useObservableRefresh"),Object(o.b)("p",null,"Um ",Object(o.b)("strong",{parentName:"p"},"useObservable")," que retorna uma função de refresh para recarregar, útil na trativa de erros ou refresh."),Object(o.b)("h2",{id:"como-usar"},"Como usar"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-tsx"},"const [value, error, completed, loading, refresh] = useObservableRefresh(() => userService.get(), []);\n\nreturn (\n  <div>\n    {loading ? 'Carregando' : ''}\n    {value}\n    <Button onClick={refresh} variant='text'>\n      Refresh\n    </Button>\n  </div>\n);\n")),Object(o.b)(u.c,{__position:0,__code:'() => {\n  const [value, error, completed, refresh] = useObservableRefresh(\n    () => interval(1000).pipe(take(10)),\n    [],\n  )\n  return (\n    <div>\n      <Typography>Value: {value}</Typography>\n      <Typography>Completed: {completed.toString()}</Typography>\n      <Button onClick={refresh} variant="text">\n        Refresh\n      </Button>\n    </div>\n  )\n}',__scope:(r={props:O,DefaultLayout:s.a,interval:b.a,take:l.a,Button:i.a,Typography:c.a,Playground:u.c,useObservableRefresh:d.a},r.DefaultLayout=s.a,r._frontmatter=m,r),mdxType:"Playground"},(function(){var e=Object(d.a)((function(){return Object(b.a)(1e3).pipe(Object(l.a)(10))}),[]),r=e[0],a=(e[1],e[2]),n=e[3];return Object(o.b)("div",null,Object(o.b)(c.a,{mdxType:"Typography"},"Value: ",r),Object(o.b)(c.a,{mdxType:"Typography"},"Completed: ",a.toString()),Object(o.b)(i.a,{onClick:n,variant:"text",mdxType:"Button"},"Refresh"))})),Object(o.b)("h2",{id:"cuidados"},"Cuidados"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"Erros")," ocorridos serão automaticamentes logados (não tratados) se as o ",Object(o.b)("strong",{parentName:"li"},"onUnhandledError")," no ",Object(o.b)("strong",{parentName:"li"},"setHoustonHooksConfig"),"\nfor setado, mas se utilizar o operador catchError esse erro não será logado pois foi previamente tratado,\nnesse caso o log deve ser feito manualmente."),Object(o.b)("li",{parentName:"ul"},"O valor inicial será ",Object(o.b)("strong",{parentName:"li"},"undefined"),", lembre-se de tratar isso quando estiver usando.")),Object(o.b)("h2",{id:"parâmetros-e-retorno"},"Parâmetros e Retorno"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-ts"},"/**\n * @param observableGenerator Função que retorna um Observable\n * @param deps Lista de dependências\n * @returns [\n *    value: valor de retorno do Observable,\n *    error: se ocorrer um erro, ele será passado aqui,\n *    complete: boolean se o observable foi completado ou não,\n *    loading: boolean se esta carregando ou não,\n *    refresh: function para recarregar\n * ]\n */\nexport default useObservableRefresh<T>(observableGenerator: () => Observable<T>, deps: React.DependencyList): [T, any, boolean, boolean, () => void];\n")))}void 0!==O&&O&&O===Object(O)&&Object.isExtensible(O)&&!O.hasOwnProperty("__filemeta")&&Object.defineProperty(O,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"packages/hooks/useObservableRefresh/index.mdx"}}),O.isMDXComponent=!0}}]);
//# sourceMappingURL=component---packages-hooks-use-observable-refresh-index-mdx-2432e55b8faac08b7a06.js.map