(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[158],{949500:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={apply:function(e){return null===e||void 0===e||""===e?"":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(e)||0)},clean:function(e){(e=(e||"").toString().replace(/[^\d,]/gi,"")).includes(",")||(e="0,"+function(e,t,n){var o=t?e.length:0;return o<t?function(e,t){return new Array(e).fill(t).join("")}(t-o,n)+e:e||""}(e,2,"0"));var t=e.split(",")[1];return t&&2!==t.length&&(e=e.replace(",","").replace(/(\d+)?(\d{2})/gi,"$1,$2").replace(/^,/gi,"0,")),parseFloat(e.replace(/\./gi,"").replace(",","."))}};t.default=n},72961:function(e,t,n){"use strict";n(220618);var o=n(827378),r=n(793386),a=n(470037),i=n(374489),l=n(705213),u=n(682111);t.Z=function(e){var t=e.onSubmit,n=e.onSubmitWithErrors,s=e.validationSchema,d=e.initialValues,m=e.validateOnMount,c=void 0===m||m,p=(0,o.useRef)({}).current,f=(0,o.useRef)({}).current,v=(0,o.useRef)(new a.Subject).current,h=(0,o.useRef)(t);(0,u.default)((function(){return v.pipe((0,i.switchMap)((function(e){var t,n=e.model,o=e.formikHelpers,r=null===(t=null===h||void 0===h?void 0:h.current)||void 0===t?void 0:t.call(h,n,o),l=(0,a.of)(!0).pipe((0,i.switchMap)((function(){return r||(0,a.of)(null)})),(0,i.catchError)((function(){return(0,a.of)(null)})),(0,i.share)());return p.promise=l.toPromise(),l})))}),[]);var b=(0,r.useFormik)({validateOnMount:c,initialValues:null!==d&&void 0!==d?d:{},validationSchema:s?function(){return s(l)}:null,onSubmit:function(e,n){return h.current=t,v.next({model:e,formikHelpers:n}),new Promise((function(e){return setTimeout((function(){return e(p.promise)}),500)}))}});(0,o.useEffect)((function(){b.submitCount&&!b.isValid&&n&&n(b.errors,b.values)}),[b.submitCount]);var g=(0,o.useRef)((function(e){return f[e]||(f[e]=function(t){b.setFieldTouched(e,!0,!1),b.setFieldValue(e,t,!1)}),f[e]})).current,x=(0,o.useCallback)((function(e){return b.handleSubmit(e)}),[b]),k=(0,o.useCallback)((function(e){return b.getFieldMeta(e).value}),[b]),_=(0,o.useCallback)((function(e,t){b.setFieldTouched(e,!0,!1),b.setFieldValue(e,t,!0)}),[]),y=(0,o.useCallback)((function(e){var t=b.getFieldMeta(e);return t.touched||b.submitCount>0&&!t.value?t.error:""}),[b]),F=(0,o.useCallback)((function(e){return b.setErrors(e)}),[b]);return{handleSubmit:x,handleChange:g,handleReset:function(){return b.resetForm({values:d})},setValues:b.setValues,setErrors:F,getFieldValue:k,setFieldValue:_,getFieldError:y,setFieldTouched:b.setFieldTouched,reset:function(e){return b.resetForm({values:void 0===e?d:e})},initialValues:b.initialValues,values:b.values,isSubmitting:b.isSubmitting,isValid:b.isValid,errors:b.errors}}},220618:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(705213).setLocale)({mixed:{default:"Inv\xe1lido",required:"Obrigat\xf3rio",oneOf:"Deve ser um dos seguintes valores: ${values}",notOneOf:"N\xe3o pode ser um dos seguintes valores: ${values}"},string:{length:"Deve ter exatamente ${length} caracteres",min:"Deve ter pelo menos ${min} caracteres",max:"Deve ter no m\xe1ximo ${max} caracteres",email:"E-mail inv\xe1lido",url:"Deve ter um formato de URL v\xe1lida",trim:"N\xe3o deve conter espa\xe7os no in\xedcio ou no fim.",lowercase:"Deve estar em mai\xfasculo",uppercase:"Deve estar em min\xfasculo"},number:{min:"Deve ser no m\xednimo ${min}",max:"Deve ser no m\xe1ximo ${max}",lessThan:"Deve ser menor que ${less}",moreThan:"Deve ser maior que ${more}",positive:"Deve ser um n\xfamero positivo",negative:"Deve ser um n\xfamero negativo",integer:"Deve ser um n\xfamero inteiro"},date:{min:"Deve ser maior que a data ${min}",max:"Deve ser menor que a data ${max}"},array:{min:"Deve ter no m\xednimo ${min} itens",max:"Deve ter no m\xe1ximo ${max} itens"}})},944039:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getConfig=void 0;var i={onUnhandledError:function(){}};t.default=function(e){i=e,Promise.resolve().then((function(){return a(n(470037))})).then((function(t){t.config&&!t.config.onUnhandledError&&(t.config.onUnhandledError=function(t){return e.onUnhandledError(t,"rxjs")})})).catch((function(){}))},t.getConfig=function(){return i}},682111:function(e,t,n){"use strict";var o=n(293823);Object.defineProperty(t,"__esModule",{value:!0});var r=(0,n(759312).__importStar)(n(827378)),a=n(944039);t.default=function(e,t){var n=r.useState(void 0),i=o(n,2),l=i[0],u=i[1],s=r.useState(),d=o(s,2),m=d[0],c=d[1],p=r.useState(!0),f=o(p,2),v=f[0],h=f[1],b=r.useState(!1),g=o(b,2),x=g[0],k=g[1],_=r.useCallback(e,t);return r.useEffect((function(){u(void 0),c(void 0),k(!1),h(!0);var e=_().subscribe({next:function(e){u((function(){return e})),c(void 0),h(!1)},error:function(e){(0,a.getConfig)().onUnhandledError(e,"hooks"),u(null),c(e),h(!1)},complete:function(){k(!0),h(!1)}});return function(){return e.unsubscribe()}}),[_]),[l,m,x,v]}},399203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(759312),r=n(824246),a=(0,o.__importStar)(n(827378)),i=(0,o.__importDefault)(n(858423)),l=(0,o.__importDefault)(n(880910));t.default=a.memo((function(e){var t=e.children,n=e.disabled,a=void 0!==n&&n,u=e.variant,s=void 0===u?"contained":u,d=e.startIcon,m=e.loading,c=void 0!==m&&m,p=e.loadingText,f=(0,o.__rest)(e,["children","disabled","variant","startIcon","loading","loadingText"]);return(0,r.jsxs)(i.default,(0,o.__assign)({},f,{disabled:a||c,startIcon:c?(0,r.jsx)(l.default,{size:18,color:"inherit"},void 0):d,disableRipple:!0,disableFocusRipple:!0,disableElevation:!0,disableTouchRipple:!0,variant:s,color:"primary"},{children:[!c&&t,c&&(null!==p&&void 0!==p?p:t)]}),void 0)}))},265563:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFormContext=t.FormFieldsContext=void 0;var o=n(759312),r=n(824246),a=(0,o.__importStar)(n(827378)),i=n(455693);t.FormFieldsContext=(0,i.createContext)(null);t.useFormContext=function(){return(0,i.useContext)(t.FormFieldsContext)},t.default=a.memo((function(e){var n=e.context,a=(0,o.__rest)(e,["context"]);return(0,r.jsx)(t.FormFieldsContext.Provider,(0,o.__assign)({value:n},{children:(0,r.jsx)("form",(0,o.__assign)({},a,{onReset:n.handleReset,onSubmit:n.handleSubmit}),void 0)}),void 0)}))},665859:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(759312),r=n(824246),a=(0,o.__importStar)(n(827378)),i=(0,o.__importDefault)(n(516363)),l=(0,o.__importDefault)(n(880910)),u=(0,o.__importDefault)(n(434559)),s=(0,o.__importDefault)(n(281236)),d=(0,o.__importDefault)(n(695086)),m=(0,o.__importDefault)(n(243091)),c=(0,o.__importDefault)(n(606874)),p=(0,o.__importDefault)(n(999779)),f=(0,o.__importDefault)(n(560011)),v=n(455693),h=(0,o.__importDefault)(n(871002)),b=n(265563),g=(0,h.default)((function(){return{endAdornment:{background:"white",position:"relative",zIndex:1,right:-2}}})),x=a.forwardRef((function(e,t){var n=e.label,h=e.value,x=e.name,k=e.loading,_=e.onChange,y=e.maxLabelItems,F=e.errorMessage,C=e.fullWidth,N=e.options,S=e.emptyOption,T=e.helperText,P=e.margin,j=e.size,D=(0,o.__rest)(e,["label","value","name","loading","onChange","maxLabelItems","errorMessage","fullWidth","options","emptyOption","helperText","margin","size"]),M=g(),R=(0,v.useContextSelector)(b.FormFieldsContext,(function(e){return null===e||void 0===e?void 0:e.isSubmitting})),O=(0,v.useContextSelector)(b.FormFieldsContext,(function(e){return null===e||void 0===e?void 0:e.getFieldValue(x)})),E=(0,v.useContextSelector)(b.FormFieldsContext,(function(e){return null===e||void 0===e?void 0:e.getFieldError(x)})),w=(0,v.useContextSelector)(b.FormFieldsContext,(function(e){return null===e||void 0===e?void 0:e.setFieldValue}));if(!x&&w)throw new Error("@eduzz/houston-ui: to use form prop you need provide a name for the field");var V=a.useMemo((function(){return k?(0,r.jsx)(d.default,(0,o.__assign)({position:"end"},{children:(0,r.jsx)("div",(0,o.__assign)({className:M.endAdornment},{children:(0,r.jsx)(l.default,{color:"secondary",size:20},void 0)}),void 0)}),void 0):null}),[k,M.endAdornment]),B=a.useCallback((function(e){var t;return Array.isArray(e)?e.length>(null!==y&&void 0!==y?y:3)?e.length+" selecionados":N.filter((function(t){return e.includes(t.value)})).map((function(e){return e.label})).join(", "):null===(t=N.find((function(t){return e===t.value})))||void 0===t?void 0:t.label}),[N,y]),z=a.useCallback((function(e){var t=e.target.value;Array.isArray(t)&&t.includes("")&&(t=[]),_&&_(t,e),w&&w(x,t)}),[_,w,x]);h=null!==O&&void 0!==O?O:h;var Z=null!==F&&void 0!==F?F:E,I=!!Z,q=a.useMemo((function(){return{select:"small"===j?"input-size-small":""}}),[j]);return(0,r.jsxs)(u.default,(0,o.__assign)({margin:null!==P&&void 0!==P?P:"normal",fullWidth:null===C||void 0===C||C,error:!!Z,variant:"outlined"},{children:[!!n&&(0,r.jsx)(m.default,(0,o.__assign)({error:!!Z},{children:n}),void 0),!!n&&(0,r.jsx)(m.default,(0,o.__assign)({disabled:D.disabled||k,error:!!Z},{children:n}),void 0),(0,r.jsxs)(f.default,(0,o.__assign)({error:I},D,{classes:(0,o.__assign)({},q),inputRef:t,disabled:R||D.disabled||k,name:x,value:null!==h&&void 0!==h?h:D.multiple?[]:"",onChange:z,fullWidth:null===C||void 0===C||C,label:n,endAdornment:V,renderValue:B},{children:[S&&(0,r.jsx)(p.default,(0,o.__assign)({disabled:!0,value:""},{children:S}),void 0),(N||[]).map((function(e){return(0,r.jsxs)(p.default,(0,o.__assign)({disabled:e.disabled,value:e.value},{children:[D.multiple&&(0,r.jsx)(i.default,{checked:null===h||void 0===h?void 0:h.includes(e.value)},void 0),(0,r.jsx)(c.default,{primary:e.label},void 0)]}),"option-value-"+e.value)}))]}),void 0),!(!Z&&!T)&&(0,r.jsx)(s.default,(0,o.__assign)({error:!!Z,variant:"outlined"},{children:Z||T}),void 0)]}),void 0)}));t.default=a.memo(x)},793595:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(759312),r=n(824246),a=(0,o.__importStar)(n(827378)),i=(0,o.__importDefault)(n(880910)),l=(0,o.__importDefault)(n(892902)),u=(0,o.__importDefault)(n(439692)),s=(0,o.__importDefault)(n(138944)),d=n(455693),m=(0,o.__importDefault)(n(535269)),c=n(265563),p=a.forwardRef((function(e,t){var n=e.mask,p=e.value,f=e.name,v=e.loading,h=e.onChange,b=e.onBlur,g=e.errorMessage,x=e.fullWidth,k=e.margin,_=e.endAdornment,y=e.startAdornment,F=e.maxLength,C=e.onPressEnter,N=e.className,S=e.size,T=e.InputProps,P=(0,o.__rest)(e,["mask","value","name","loading","onChange","onBlur","errorMessage","fullWidth","margin","endAdornment","startAdornment","maxLength","onPressEnter","className","size","InputProps"]),j=(0,d.useContextSelector)(c.FormFieldsContext,(function(e){return null===e||void 0===e?void 0:e.isSubmitting})),D=(0,d.useContextSelector)(c.FormFieldsContext,(function(e){return null===e||void 0===e?void 0:e.getFieldValue(f)})),M=(0,d.useContextSelector)(c.FormFieldsContext,(function(e){return null===e||void 0===e?void 0:e.getFieldError(f)})),R=(0,d.useContextSelector)(c.FormFieldsContext,(function(e){return null===e||void 0===e?void 0:e.setFieldValue}));if(!f&&R)throw new Error("@eduzz/houston-ui: to use form prop you need provide a name for the field");p=null!==D&&void 0!==D?D:p;var O=(0,m.default)(n,p),E=O.maskClean,w=O.maskedValue,V=a.useCallback((function(e){var t=E(e.currentTarget.value);F&&(t=t.substring(0,F)),h&&h(t,e),R&&R(f,t)}),[h,E,R,f,F]),B=a.useCallback((function(e){b&&b(E(e.currentTarget.value),e)}),[b,E]),z=a.useMemo((function(){return(0,o.__assign)({},P.placeholder?{shrink:!0}:{})}),[P.placeholder]),Z=a.useMemo((function(){var e=null,t=null;return _&&(e=(0,r.jsx)(l.default,(0,o.__assign)({position:"end"},{children:_}),void 0)),y&&(t=(0,r.jsx)(l.default,(0,o.__assign)({position:"start"},{children:y}),void 0)),v&&(e=(0,r.jsx)(l.default,(0,o.__assign)({position:"end"},{children:(0,r.jsx)(i.default,{color:"secondary",size:20},void 0)}),void 0)),(0,o.__assign)((0,o.__assign)({},T),{endAdornment:e,startAdornment:t})}),[_,y,v,T]),I=a.useCallback((function(e){var t=e.target;"Enter"===e.key&&(e.preventDefault(),C(E(t.value)))}),[C,E]),q=null!==g&&void 0!==g?g:M,A=!!q;return(0,r.jsx)(u.default,(0,o.__assign)({error:A,inputRef:t},P,{disabled:j||P.disabled||v,helperText:q||P.helperText,className:(0,s.default)(N,"small"===S?"input-size-small":null),name:f,margin:null!==k&&void 0!==k?k:"normal",variant:"outlined",value:null!==w&&void 0!==w?w:"",onChange:V,onBlur:B,fullWidth:null===x||void 0===x||x,InputLabelProps:z,InputProps:Z,onKeyPress:C?I:P.onKeyPress}),void 0)}));t.default=a.memo(p)},535269:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(0,n(759312).__importStar)(n(827378));t.default=function(e,t){var n=o.useMemo((function(){return null!==e&&void 0!==e?e:{apply:function(e){return e},clean:function(e){return e}}}),[e]),r=n.apply,a=n.clean,i=o.useMemo((function(){return r?r(t):t}),[t,r]),l=o.useMemo((function(){return a?a(t):t}),[t,a]);return{maskApply:r,maskClean:a,maskedValue:i,cleanedValue:l}}},55485:function(e,t,n){"use strict";n.r(t),n.d(t,{meta:function(){return h},default:function(){return g}});var o=n(987397),r=n(338566),a=n(831750),i=n(827378),l=n(735318),u=n(112696),s=n(949500),d=n(72961),m=n(399203),c=n(265563),p=n(665859),f=n(793595),v=["components"],h={name:"Exemplo",tableOfContents:{depth:0,children:[{depth:1,slug:"#exemplo-de-valida\xe7\xe3o",title:"Exemplo de Valida\xe7\xe3o",children:[{depth:2,children:[{depth:3,slug:"#importa\xe7\xe3o",title:"Importa\xe7\xe3o"},{depth:3,slug:"#exemplo",title:"Exemplo"},{depth:3,slug:"#sem-o-contexto-de-formul\xe1rio",title:"Sem o contexto de formul\xe1rio"},{depth:3,slug:"#campos-din\xe2micos",title:"Campos din\xe2micos"},{depth:3,slug:"#hooks-para-valida\xe7\xe3o-de-formul\xe1rios-e-m\xe1scaras",title:"Hooks para valida\xe7\xe3o de formul\xe1rios e m\xe1scaras"},{depth:3,slug:"#form-props",title:"Form props"},{depth:3,slug:"#useform-props",title:"useForm props"}]}]}]}},b={meta:h};function g(e){var t=e.components,n=(0,a.Z)(e,v);return(0,l.kt)("wrapper",(0,o.Z)({},b,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"exemplo-de-valida\xe7\xe3o"},"Exemplo de Valida\xe7\xe3o"),(0,l.kt)("p",null,"Este \xe9 um exemplo utilzando o @eduzz/houston-ui."),(0,l.kt)("p",null,"O componente de formul\xe1rio (Form) \xe9 utilizado para a cria\xe7\xe3o, valida\xe7\xe3o e controle de formul\xe1rios de uma aplica\xe7\xe3o,\npodendo ser utilizado atrav\xe9s de um contexto ou hook."),(0,l.kt)("h3",{id:"importa\xe7\xe3o"},"Importa\xe7\xe3o"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"import useForm from '@eduzz/houston-forms/useForm';\nimport Form from '@eduzz/houston-ui/Forms/Form';\n")),(0,l.kt)("h3",{id:"exemplo"},"Exemplo"),(0,l.kt)(u.X,{__position:0,code:'() => {\n  const form = useForm({\n    initialValues: { money: 5 }, //estado inicial, n\xe3o precisa passar todas as propriedades\n    validationSchema: (yup) => {\n      // n\xe3o \xe9 necess\xe1rio importar o yup ele ser\xe1 passado como argumento\n      return yup.object().shape({\n        name: yup.string().required(),\n        money: yup.number().min(10),\n        option: yup.number().min(3),\n      })\n    },\n    onSubmit: () => {\n      // onSubmit pode retornar uma promise ou um observable de rxjs, desse jeito ele ir\xe1\n      // setar corretamente o isSubmitting\n      return new Promise((resolve) => {\n        setTimeout(() => resolve(null), 3000)\n      })\n    },\n  })\n  const [options] = React.useState(() => [\n    { value: 1, label: \'Option 1\' },\n    { value: 2, label: \'Option 2\' },\n    { value: 3, label: \'Option 3 (disabled)\', disabled: true }, // \xe9 poss\xedvel desativar alguma op\xe7\xe3o\n    { value: 4, label: \'Option 4\' },\n    { value: 5, label: \'Option 5\' },\n  ])\n  return (\n    //Criando o contexto do form n\xe3o \xe9 preciso passar para os components filhos\n    <Form context={form}>\n      {/* a prop name que ir\xe1 dizer o campo que receber\xe1 o valor */}\n      <TextField label="Name" name="name" />\n      {/* voc\xea passar uma fun\xe7\xe3o de mascara, voc\xea pode importar uma pronta ou criar a sua */}\n      <TextField label="Money" name="money" mask={moneyMask} />\n      <SelectField label="Options" name="option" options={options} />\n      {/* Por ser um type submit n\xe3o precisa passar o form.handleSubmit */}\n      <Button type="submit" loading={form.isSubmitting}>\n        Submit\n      </Button>\n      {/* Por ser um type reset n\xe3o precisa passar o form.handleReset */}\n      <Button variant="text" type="reset" disabled={form.isSubmitting}>\n        Reset\n      </Button>\n    </Form>\n  )\n}',scope:{props:n,Playground:u.X,moneyMask:s.default,useForm:d.Z,Button:m.default,Form:c.default,SelectField:p.default,TextField:f.default,meta:h},mdxType:"Playground"},(function(){var e=(0,d.Z)({initialValues:{money:5},validationSchema:function(e){return e.object().shape({name:e.string().required(),money:e.number().min(10),option:e.number().min(3)})},onSubmit:function(){return new Promise((function(e){setTimeout((function(){return e(null)}),3e3)}))}}),t=i.useState((function(){return[{value:1,label:"Option 1"},{value:2,label:"Option 2"},{value:3,label:"Option 3 (disabled)",disabled:!0},{value:4,label:"Option 4"},{value:5,label:"Option 5"}]})),n=(0,r.Z)(t,1)[0];return(0,l.kt)(c.default,{context:e,mdxType:"Form"},(0,l.kt)(f.default,{label:"Name",name:"name",mdxType:"TextField"}),(0,l.kt)(f.default,{label:"Money",name:"money",mask:s.default,mdxType:"TextField"}),(0,l.kt)(p.default,{label:"Options",name:"option",options:n,mdxType:"SelectField"}),(0,l.kt)(m.default,{type:"submit",loading:e.isSubmitting,mdxType:"Button"},"Submit"),(0,l.kt)(m.default,{variant:"text",type:"reset",disabled:e.isSubmitting,mdxType:"Button"},"Reset"))})),(0,l.kt)("h3",{id:"sem-o-contexto-de-formul\xe1rio"},"Sem o contexto de formul\xe1rio"),(0,l.kt)("p",null,"Tamb\xe9m \xe9 poss\xedvel utilizar o componente de formul\xe1rio sem utiliz\xe1-lo como um contexto,\npassando o formul\xe1rio via propriedade:"),(0,l.kt)(u.X,{__position:1,code:'() => {\n  const form = useForm({\n    onSubmit: () => {},\n  })\n  return <TextField label="Name" name="name" form={form} />\n}',scope:{props:n,Playground:u.X,moneyMask:s.default,useForm:d.Z,Button:m.default,Form:c.default,SelectField:p.default,TextField:f.default,meta:h},mdxType:"Playground"},(function(){var e=(0,d.Z)({onSubmit:function(){}});return(0,l.kt)(f.default,{label:"Name",name:"name",form:e,mdxType:"TextField"})})),(0,l.kt)("h3",{id:"campos-din\xe2micos"},"Campos din\xe2micos"),(0,l.kt)(u.X,{__position:2,code:"() => {\n  const form = useForm({\n    initialValues: {\n      users: [{ id: '', age: '', name: '' }],\n    },\n    validationSchema: (yup) => {\n      return yup.object().shape({\n        users: yup\n          .array()\n          .of(\n            yup.object().shape({\n              id: yup.number().required('Por favor, preencha o campo ID.'),\n              name: yup.string().required(),\n              age: yup.number().required(),\n            }),\n          )\n          .min(1)\n          .required(),\n      })\n    },\n    onSubmitWithErrors: (err) => console.log('failed', err),\n    onSubmit: (values) => console.log('success', values),\n  })\n  const values = React.useMemo(() => form.getFieldValue('users'), [form])\n  const handleClickAdd = React.useCallback(() => {\n    form.setFieldValue(`users[${values.length}]`, {})\n    setTimeout(() => form.setErrors({}), 50)\n  }, [form, values.length])\n  const handleClickRemove = React.useCallback(\n    (index) => {\n      const newUsers = values.filter((_, i) => i !== index)\n      form.setFieldValue('users', newUsers)\n    },\n    [form, values],\n  )\n  return (\n    <Form context={form}>\n      {values.map((_, index) => (\n        <div\n          style={{\n            borderBottom: '1px solid #ccc',\n            paddingBottom: 10,\n            marginBottom: 20,\n          }}\n          key={index}\n        >\n          <TextField name={`users.${index}.id`} label=\"ID\" />\n          <TextField name={`users.${index}.name`} label=\"Nome\" />\n          <TextField name={`users.${index}.age`} label=\"Idade\" />\n          <Button variant=\"text\" onClick={() => handleClickRemove(index)}>\n            Remover linha\n          </Button>\n        </div>\n      ))}\n      <Button variant=\"text\" onClick={handleClickAdd}>\n        Adicionar linha\n      </Button>\n      <Button type=\"submit\">Enviar</Button>\n    </Form>\n  )\n}",scope:{props:n,Playground:u.X,moneyMask:s.default,useForm:d.Z,Button:m.default,Form:c.default,SelectField:p.default,TextField:f.default,meta:h},mdxType:"Playground"},(function(){var e=(0,d.Z)({initialValues:{users:[{id:"",age:"",name:""}]},validationSchema:function(e){return e.object().shape({users:e.array().of(e.object().shape({id:e.number().required("Por favor, preencha o campo ID."),name:e.string().required(),age:e.number().required()})).min(1).required()})},onSubmitWithErrors:function(e){return console.log("failed",e)},onSubmit:function(e){return console.log("success",e)}}),t=i.useMemo((function(){return e.getFieldValue("users")}),[e]),n=i.useCallback((function(){e.setFieldValue("users[".concat(t.length,"]"),{}),setTimeout((function(){return e.setErrors({})}),50)}),[e,t.length]),o=i.useCallback((function(n){var o=t.filter((function(e,t){return t!==n}));e.setFieldValue("users",o)}),[e,t]);return(0,l.kt)(c.default,{context:e,mdxType:"Form"},t.map((function(e,t){return(0,l.kt)("div",{style:{borderBottom:"1px solid #ccc",paddingBottom:10,marginBottom:20},key:t},(0,l.kt)(f.default,{name:"users.".concat(t,".id"),label:"ID",mdxType:"TextField"}),(0,l.kt)(f.default,{name:"users.".concat(t,".name"),label:"Nome",mdxType:"TextField"}),(0,l.kt)(f.default,{name:"users.".concat(t,".age"),label:"Idade",mdxType:"TextField"}),(0,l.kt)(m.default,{variant:"text",onClick:function(){return o(t)},mdxType:"Button"},"Remover linha"))})),(0,l.kt)(m.default,{variant:"text",onClick:n,mdxType:"Button"},"Adicionar linha"),(0,l.kt)(m.default,{type:"submit",mdxType:"Button"},"Enviar"))})),(0,l.kt)("h3",{id:"hooks-para-valida\xe7\xe3o-de-formul\xe1rios-e-m\xe1scaras"},"Hooks para valida\xe7\xe3o de formul\xe1rios e m\xe1scaras"),(0,l.kt)("p",null,"Veja os hooks do Houston para validar formul\xe1rios e m\xe1scaras em ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/eduzz/houston/tree/master/src/pages/forms"},"@eduzz/houston-forms"),"."),(0,l.kt)("h3",{id:"form-props"},"Form props"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"prop"),(0,l.kt)("th",{parentName:"tr",align:null},"tipo"),(0,l.kt)("th",{parentName:"tr",align:null},"obrigat\xf3rio"),(0,l.kt)("th",{parentName:"tr",align:null},"padr\xe3o"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"context"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"IFormAdapter")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"true")),(0,l.kt)("td",{parentName:"tr",align:null},"-")))),(0,l.kt)("h3",{id:"useform-props"},"useForm props"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"prop"),(0,l.kt)("th",{parentName:"tr",align:null},"tipo"),(0,l.kt)("th",{parentName:"tr",align:null},"obrigat\xf3rio"),(0,l.kt)("th",{parentName:"tr",align:null},"descri\xe7\xe3o"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"initialValues"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Partial<any>")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false")),(0,l.kt)("td",{parentName:"tr",align:null},"Estado inicial do formul\xe1rio, n\xe3o sendo necess\xe1rio passar todas as propriedades")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"validationSchema"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"function")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false")),(0,l.kt)("td",{parentName:"tr",align:null},"Utilizado para valida\xe7\xe3o do formul\xe1rio, n\xe3o sendo necess\xe1rio importar o yup, pois ele ser\xe1 passado como argumento")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"onSubmitWithErrors"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"function")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false")),(0,l.kt)("td",{parentName:"tr",align:null},"\xc9 poss\xedvel passar os erros do ",(0,l.kt)("inlineCode",{parentName:"td"},"Formik")," como argumento")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"onSubmit"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"function"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"Promise<any>"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"Observable<any>")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"true")),(0,l.kt)("td",{parentName:"tr",align:null},"Pode retornar uma ",(0,l.kt)("inlineCode",{parentName:"td"},"Promise")," ou um ",(0,l.kt)("inlineCode",{parentName:"td"},"Observable")," em RxJS, definindo corretamente o ",(0,l.kt)("inlineCode",{parentName:"td"},"isSubmitting"))))))}g.isMDXComponent=!0;var x={editThisPagePath:"src/pages/forms/example.mdx"};for(var k in x)window[k]=x[k]},439692:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C},getTextFieldUtilityClass:function(){return g},textFieldClasses:function(){return x}});var o=n(925773),r=n(630808),a=n(827378),i=n(138944),l=n(572473),u=n(373070),s=n(572613),d=n(488394),m=n(709381),c=n(974513),p=n(553998),f=n(296621),v=n(154624),h=n(632820),b=n(940510);function g(e){return(0,b.Z)("MuiTextField",e)}var x=(0,n(229625).Z)("MuiTextField",["root"]),k=n(824246),_=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],y={standard:d.Z,filled:m.Z,outlined:c.Z},F=(0,u.ZP)(f.Z,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),C=a.forwardRef((function(e,t){var n=(0,s.Z)({props:e,name:"MuiTextField"}),u=n.autoComplete,d=n.autoFocus,m=void 0!==d&&d,c=n.children,f=n.className,b=n.color,x=void 0===b?"primary":b,C=n.defaultValue,N=n.disabled,S=void 0!==N&&N,T=n.error,P=void 0!==T&&T,j=n.FormHelperTextProps,D=n.fullWidth,M=void 0!==D&&D,R=n.helperText,O=n.id,E=n.InputLabelProps,w=n.inputProps,V=n.InputProps,B=n.inputRef,z=n.label,Z=n.maxRows,I=n.minRows,q=n.multiline,A=void 0!==q&&q,$=n.name,W=n.onBlur,L=n.onChange,U=n.onFocus,X=n.placeholder,H=n.required,K=void 0!==H&&H,J=n.rows,G=n.select,Q=void 0!==G&&G,Y=n.SelectProps,ee=n.type,te=n.value,ne=n.variant,oe=void 0===ne?"outlined":ne,re=(0,r.Z)(n,_),ae=(0,o.Z)({},n,{autoFocus:m,color:x,disabled:S,error:P,fullWidth:M,multiline:A,required:K,select:Q,variant:oe}),ie=function(e){var t=e.classes;return(0,l.Z)({root:["root"]},g,t)}(ae);var le={};if("outlined"===oe&&(E&&"undefined"!==typeof E.shrink&&(le.notched=E.shrink),z)){var ue,se=null!=(ue=null==E?void 0:E.required)?ue:K;le.label=(0,k.jsxs)(a.Fragment,{children:[z,se&&"\xa0*"]})}Q&&(Y&&Y.native||(le.id=void 0),le["aria-describedby"]=void 0);var de=R&&O?"".concat(O,"-helper-text"):void 0,me=z&&O?"".concat(O,"-label"):void 0,ce=y[oe],pe=(0,k.jsx)(ce,(0,o.Z)({"aria-describedby":de,autoComplete:u,autoFocus:m,defaultValue:C,fullWidth:M,multiline:A,name:$,rows:J,maxRows:Z,minRows:I,type:ee,value:te,id:O,inputRef:B,onBlur:W,onChange:L,onFocus:U,placeholder:X,inputProps:w},le,V));return(0,k.jsxs)(F,(0,o.Z)({className:(0,i.default)(ie.root,f),disabled:S,error:P,fullWidth:M,ref:t,required:K,color:x,variant:oe,ownerState:ae},re,{children:[z&&(0,k.jsx)(p.Z,(0,o.Z)({htmlFor:O,id:me},E,{children:z})),Q?(0,k.jsx)(h.Z,(0,o.Z)({"aria-describedby":de,id:O,labelId:me,value:te,input:pe},Y,{children:c})):pe,R&&(0,k.jsx)(v.Z,(0,o.Z)({id:de},j,{children:R}))]}))}))},37552:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forms/example",function(){return n(55485)}])}},function(e){e.O(0,[4526,4375,6844,7456,6467,4182,6194,5407,8197,3076,2223,9533,9774,2888,179],(function(){return t=37552,e(e.s=t);var t}));var t=e.O();_N_E=t}]);