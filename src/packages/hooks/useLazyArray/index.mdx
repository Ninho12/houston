---
name: useLazyArray
route: /hooks/uselazyarray
menu: eduzz/houston-hooks
submenu: Hooks
---

import { useState, useCallback } from 'react';

import CircularProgress from '@material-ui/core/CircularProgress';

import Button from '@eduzz/houston-ui/Button';
import Typography from '@eduzz/houston-ui/Typography';

import { Playground } from 'docz';

import useLazyArray from '.';

# useLazyArray

Cria um novo array que adiciona o array original progressivamente aliviando o processo de render. Não é uma solução perfeita, ainda estamos estudando alterantivas

<CircularProgress />

Use o loader acima como referência, quando é feito o render de muitos items ele congela, agora se usar o lazy ele não congelará.

<Playground>
  {() => {
    const [array, setArray] = useState([]);
    const onClick = useCallback(() => setArray(new Array(200).fill('a')), []);
    const onReset = useCallback(() => setArray([]), []);
    const lazyArray = useLazyArray(array);
    return (
      <div>
        <Typography>
          Array Length: {array.length} / Lazy Array Length: {lazyArray.length}
        </Typography>
        <Button onClick={onClick}>Add 200 with Lazy</Button>
        <Button onClick={onReset} variant='text'>
          Reset
        </Button>
        {lazyArray.map((a, index) => (
          <div key={index}>
            <Typography size='small'>{index + 1}. Value</Typography>
          </div>
        ))}
      </div>
    );
  }}
</Playground>

<br />

<Playground>
  {() => {
    const [array, setArray] = useState([]);
    const onClick = useCallback(() => setArray(new Array(200).fill('a')), []);
    const onReset = useCallback(() => setArray([]), []);
    return (
      <div>
        <Typography>Array Length: {array.length}</Typography>
        <Button onClick={onClick}>Add 200 without Lazy</Button>
        <Button onClick={onReset} variant='text'>
          Reset
        </Button>
        {array.map((a, index) => (
          <div key={index}>
            <Typography size='small'>{index + 1}. Value</Typography>
          </div>
        ))}
      </div>
    );
  }}
</Playground>

## Parametros

| Parametro | Descrição                                                                                        |
| --------- | ------------------------------------------------------------------------------------------------ |
| data      | Array com os dados                                                                               |
| options   | Objecto: {<br />&nbsp;&nbsp;chunckSize?: number; <br />&nbsp;&nbsp;intervalTime?: number;<br />} |
