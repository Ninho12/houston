(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"1K59":function(e,a,n){"use strict";n.d(a,"a",(function(){return r}));var t=n("HlNb"),o=n("B8Tz");function r(e,a){return void 0===e&&(e=0),void 0===a&&(a=t.b),e<0&&(e=0),Object(o.a)(e,e,a)}},Jy2S:function(e,a,n){"use strict";n.r(a),n.d(a,"_frontmatter",(function(){return p})),n.d(a,"default",(function(){return O}));var t=n("cxan"),o=n("+wNj"),r=(n("ERkP"),n("ZVZ0")),s=n("9Rvw"),l=n("1K59"),b=n("gH1A"),c=n("x6WP"),i=n("E1Lo"),u=n("qbsg"),d=n("HHg0"),p=(n("l1C2"),{});void 0!==p&&p&&p===Object(p)&&Object.isExtensible(p)&&!p.hasOwnProperty("__filemeta")&&Object.defineProperty(p,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"packages/hooks/useCallbackObservable/index.mdx"}});var m={_frontmatter:p},v=s.a;function O(e){var a,n=e.components,O=Object(o.a)(e,["components"]);return Object(r.b)(v,Object(t.a)({},m,O,{components:n,mdxType:"MDXLayout"}),Object(r.b)("h1",{id:"usecallbackobservable"},"useCallbackObservable"),Object(r.b)("p",null,"É o mesmo principio do ",Object(r.b)("strong",{parentName:"p"},"useObservable"),", mas a primeira posição do array é uma function e o observable só é chamada quando\nesse função é chamada."),Object(r.b)("h2",{id:"como-usar"},"Como usar"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"const [callback, value, error, completed, loading] = useCallbackObservable(\n  (params: any) => userService.get(params),\n  []\n);\n\nreturn (\n  <div>\n    {loading ? 'Carregando' : ''}\n    {value}\n    <Button onClick={onClick} variant='text'>\n      Vai\n    </Button>\n  </div>\n);\n")),Object(r.b)(u.c,{__position:0,__code:"() => {\n  const [onClick, value, error] = useCallbackObservable(\n    () => interval(1000).pipe(take(10)),\n    [],\n  )\n  return (\n    <div>\n      <Typography>Value: {value || 'Nada'}</Typography>\n      <Button onClick={onClick} variant=\"text\">\n        Vai\n      </Button>\n    </div>\n  )\n}",__scope:(a={props:O,DefaultLayout:s.a,interval:l.a,take:b.a,Button:c.a,Typography:i.a,Playground:u.c,useCallbackObservable:d.a},a.DefaultLayout=s.a,a._frontmatter=p,a),mdxType:"Playground"},(function(){var e=Object(d.a)((function(){return Object(l.a)(1e3).pipe(Object(b.a)(10))}),[]),a=e[0],n=e[1];e[2];return Object(r.b)("div",null,Object(r.b)(i.a,{mdxType:"Typography"},"Value: ",n||"Nada"),Object(r.b)(c.a,{onClick:a,variant:"text",mdxType:"Button"},"Vai"))})),Object(r.b)("h2",{id:"cuidados"},"Cuidados"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Erros")," ocorridos serão automaticamentes logados (não tratados) se as o ",Object(r.b)("strong",{parentName:"li"},"onUnhandledError")," no ",Object(r.b)("strong",{parentName:"li"},"setHoustonHooksConfig"),"\nfor setado, mas se utilizar o operador catchError esse erro não será logado pois foi previamente tratado,\nnesse caso o log deve ser feito manualmente."),Object(r.b)("li",{parentName:"ul"},"O valor inicial será ",Object(r.b)("strong",{parentName:"li"},"undefined"),", lembre-se de tratar isso quando estiver usando.")),Object(r.b)("h2",{id:"parâmetros-e-retorno"},"Parâmetros e Retorno"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-ts"},"/**\n * Create a memoized callback that uses an observable and unsubscribe automatically if component unmount\n * @param observableGenerator Function to return a observable\n * @param deps List of deps\n * @returns [callbackFunction, observableValue, error, complete, loading]\n */\nexport default function useCallbackObservable<T>(\n  observableGenerator: (...args: any[]) => Observable<T>,\n  deps: React.DependencyList\n): [() => void, T, any, boolean, boolean];\n")))}void 0!==O&&O&&O===Object(O)&&Object.isExtensible(O)&&!O.hasOwnProperty("__filemeta")&&Object.defineProperty(O,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"packages/hooks/useCallbackObservable/index.mdx"}}),O.isMDXComponent=!0}}]);
//# sourceMappingURL=component---packages-hooks-use-callback-observable-index-mdx-71a17023c6a3430a01e8.js.map